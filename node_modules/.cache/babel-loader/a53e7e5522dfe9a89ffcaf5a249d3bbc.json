{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sam/Downloads/seefood-app-firebase_modified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sam/Downloads/seefood-app-firebase_modified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/sam/Downloads/seefood-app-firebase_modified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sam/Downloads/seefood-app-firebase_modified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sam/Downloads/seefood-app-firebase_modified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sam/Downloads/seefood-app-firebase_modified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import'./stylesheet.css';import PartnerLogo1 from'./images/section_images/partner_logo_1.png';import{db,auth,storageRef}from'./firebase';import{Link}from'react-router-dom';var Restaurants=/*#__PURE__*/function(_React$Component){_inherits(Restaurants,_React$Component);var _super=_createSuper(Restaurants);function Restaurants(){var _this;_classCallCheck(this,Restaurants);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={restaurants:null};return _this;}_createClass(Restaurants,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log('mounted');db.collection('restaurants').get().then(function(snapshot){var restaurants=[];snapshot.forEach(function(doc){var data=doc.data();data[\"id\"]=doc.id;data[\"categories\"]=doc.id.categories;restaurants.push(data);});_this2.setState({restaurants:restaurants});console.log(restaurants);}).catch(function(error){return console.log(error);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},this.state.restaurants&&this.state.restaurants.map(function(restaurant){return/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/seefood-app/restaurants/\".concat(restaurant.id),state:{name:\"\".concat(restaurant.name),city:\"\".concat(restaurant.city),state:\"\".concat(restaurant.state),cuisine:\"\".concat(restaurant.cuisine),street:\"\".concat(restaurant.street),zip:\"\".concat(restaurant.zip),phone:\"\".concat(restaurant.phone),id:\"\".concat(restaurant.id),logo_url:\"\".concat(restaurant.logo_url)}}},/*#__PURE__*/React.createElement(\"div\",{class:\"restaurant-box\"},/*#__PURE__*/React.createElement(\"img\",{src:restaurant.logo_url,alt:\"\"}),/*#__PURE__*/React.createElement(\"h3\",null,restaurant.name),/*#__PURE__*/React.createElement(\"p\",null,restaurant.cuisine),/*#__PURE__*/React.createElement(\"p\",null,\"SeeFood is a mobile website that helps you see pictures of food on the menu, instead of just reading about it.\"),/*#__PURE__*/React.createElement(\"span\",null,restaurant.city,\", \",restaurant.state))));}));}},{key:\"loadRestaurantLogo\",value:function(){var _loadRestaurantLogo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(restaurant_id,restaurant_name){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:storageRef.child('/restaurants/'+restaurant_id+'/logo/'+restaurant_name+' Logo.png').getDownloadURL().then(function(url){var img=document.getElementById(restaurant_name+'.png');var returnVal=url;//console.log(restaurant_name + \" -> \" + returnVal);\nreturn returnVal;}).catch(function(error){//console.log(error)\n//console.log(\"Broken ---->\" + restaurant_id + \" -------> \" + restaurant_name)\n});case 1:case\"end\":return _context.stop();}}},_callee);}));function loadRestaurantLogo(_x,_x2){return _loadRestaurantLogo.apply(this,arguments);}return loadRestaurantLogo;}()}]);return Restaurants;}(React.Component);// <Link to={{ pathname: '/route', state: { foo: 'bar'} }}>\n// <Link to={`/seefood-app/restaurants/${restaurant.name}`} params={{ restaurants: `${restaurant.name}` }}></Link>\nexport default Restaurants;","map":{"version":3,"sources":["/Users/sam/Downloads/seefood-app-firebase_modified/src/restaurantBox.js"],"names":["React","PartnerLogo1","db","auth","storageRef","Link","Restaurants","state","restaurants","console","log","collection","get","then","snapshot","forEach","doc","data","id","categories","push","setState","catch","error","map","restaurant","pathname","name","city","cuisine","street","zip","phone","logo_url","restaurant_id","restaurant_name","child","getDownloadURL","url","img","document","getElementById","returnVal","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './stylesheet.css';\nimport PartnerLogo1 from './images/section_images/partner_logo_1.png';\nimport { db, auth, storageRef } from './firebase';\nimport { Link } from 'react-router-dom';\n\nclass Restaurants extends React.Component {\n\n    state = {\n        restaurants: null,\n    }\n\n    componentDidMount() {\n        console.log('mounted')\n        db.collection('restaurants')\n            .get()\n            .then(snapshot => {\n                const restaurants = []\n                snapshot.forEach(doc => {\n                    const data = doc.data()\n                    data[\"id\"] = doc.id\n                    data[\"categories\"] = doc.id.categories\n                    restaurants.push(data)\n                })\n                this.setState({ restaurants: restaurants })\n                console.log(restaurants)\n            })\n            .catch(error => console.log(error))\n    }\n\n    render() {\n\n        return (\n            <div className=\"App\">\n                {\n                    this.state.restaurants &&\n                    this.state.restaurants.map(restaurant => {\n                        return (\n                            <a>\n                                <Link to={{\n                                    pathname: `/seefood-app/restaurants/${restaurant.id}`,\n                                    state: {\n                                        name: `${restaurant.name}`,\n                                        city: `${restaurant.city}`,\n                                        state: `${restaurant.state}`,\n                                        cuisine: `${restaurant.cuisine}`,\n                                        street: `${restaurant.street}`,\n                                        zip: `${restaurant.zip}`,\n                                        phone: `${restaurant.phone}`,\n                                        id: `${restaurant.id}`,\n                                        logo_url: `${restaurant.logo_url}`\n                                    }\n                                }}>\n                                    <div class=\"restaurant-box\">\n                                        <img src={restaurant.logo_url} alt=\"\" />\n                                        <h3>{restaurant.name}</h3>\n                                        <p>{restaurant.cuisine}</p>\n                                        <p>SeeFood is a mobile website that helps you see pictures\n                                        of food on the menu, instead of just reading about it.</p>\n                                        <span>{restaurant.city}, {restaurant.state}</span>\n                                    </div>\n                                </Link>\n                            </a>\n                        )\n                    })\n                }\n            </div >\n        )\n    }\n\n    async loadRestaurantLogo(restaurant_id, restaurant_name) {\n        storageRef.child('/restaurants/' + restaurant_id + '/logo/' + restaurant_name + ' Logo.png').getDownloadURL().then(function (url) {\n            var img = document.getElementById(restaurant_name + '.png');\n            var returnVal = url;\n            //console.log(restaurant_name + \" -> \" + returnVal);\n            return returnVal;\n        }).catch(function (error) {\n            //console.log(error)\n            //console.log(\"Broken ---->\" + restaurant_id + \" -------> \" + restaurant_name)\n        });\n    }\n\n\n}\n\n\n\n// <Link to={{ pathname: '/route', state: { foo: 'bar'} }}>\n\n// <Link to={`/seefood-app/restaurants/${restaurant.name}`} params={{ restaurants: `${restaurant.name}` }}></Link>\n\n\nexport default Restaurants;"]},"metadata":{},"sourceType":"module"}